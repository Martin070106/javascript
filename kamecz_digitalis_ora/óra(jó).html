<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Óra</title>
    <style>
        #orakeret {
            margin: 24px 0 48px 0;
            width: 612px;
            border: 4px solid rgb(207, 11, 37);
            border-radius: 36px;
            background-color: rgb(81, 186, 247);
            box-shadow: 8px 8px 8px rgb(241, 211, 89);
            text-align: center;
        }

        .kijelzo {
            padding: 24px;
            line-height: normal;
            font-size: 36px;
            color: blueviolet;
        }

        .green {
            color: green;
        }

        .red {
            color: red;
        }
    </style>
</head>
<body>

<div id='orakeret'>
    <div id='kijelzo1' class='kijelzo'></div>
    <div id='kijelzo2' class='kijelzo'></div>
    <div id='countdown' class='kijelzo'></div>
</div>

<script>
    napnev = new Array("vasárnap", "hétfő", "kedd", "szerda", "csütörtök", "péntek", "szombat");// Hét napjainak nevei magyarul
// A frissítési függvény
    function frissit() {
        most = new Date()// Jelenlegi dátum és idő lekérése

        ev = most.getFullYear()// Év, hónap, nap és a hét napja lekérése
        ho = most.getMonth() + 1 // mert 0-tól 11-ig sorszámozza a hónapokat
        nap = most.getDate()
        ssz = most.getDay()

        hrs = most.getHours()// Óra, perc és másodperc lekérése
        min = most.getMinutes()
        sec = most.getSeconds()

// Hónap, nap, óra, perc és másodperc formázása kétjegyűre
        if (ho < 10) ho = "0" + ho
        if (nap < 10) nap = "0" + nap
        if (hrs < 10) hrs = "0" + hrs
        if (min < 10) min = "0" + min
        if (sec < 10) sec = "0" + sec
// Az aktuális idő kiíratása
        kijelzo1.innerHTML = hrs + ":" + min + ":" + sec
        kijelzo2.innerHTML = ev + "." + ho + "." + nap + "<br>" + napnev[ssz]// Az aktuális dátum és a hét napjának kiíratása

        // Countdown
        var firstActionTime = new Date();
        firstActionTime.setHours(16, 30, 0, 0);

        var remainingTime;
        var color;

        if (most < firstActionTime) {
            remainingTime = firstActionTime - most;// Hátralévő idő kiszámítása
            color = "green";//szin zoldre
        } else {
            var nextDay = new Date();// Ha már elmúlt az első esemény ideje, akkor a következő nap 8:00-ra állítjuk be
            nextDay.setDate(nextDay.getDate() + 1);
            nextDay.setHours(8, 0, 0, 0);

            remainingTime = nextDay - most;// Hátralévő idő kiszámítása
            color = "red";//szin pirosra
        }
// Órák, percek és másodpercek kiszámítása a hátralévő időből
        var hours = Math.floor((remainingTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);

        var displayTime = hours + ":" + minutes + ":" + seconds;// Visszaszámlálás formázása és kiíratása

        countdown.innerHTML = "Countdown: " + displayTime.fontcolor(color);
    }
// A frissítési függvényt minden másodpercben
    setInterval(frissit, 1000);
    frissit(); // Initial call to display immediately
</script>

</body>
</html>
